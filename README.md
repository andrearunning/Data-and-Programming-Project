# Data and Programming for Public Policy II - R Programming
## PPHA 30536
 
# Final Project: Reproducible Research
# Andrea Running

Public opinion of the police became a popular media topic in the United States after the murder of George Floyd in spring of 2020.  Media coverage of an anti-police movement amongst portions of the population became prevalent, and protests were held in many major and minor cities in the United States.  These protests included many blatantly anti-police actions, even against Police property. Police department effectiveness was called into question. My project questions if people are more or less likely to see police stations in major cities as a deterrent when committing shootings in 2019 (before the popularized anti-police movement) versus in 2022 (after the popularized anti-police movement).  

Text analysis fed my interest of the topic.  I found articles that described the sentiment towards police departments before and after George Floyd’s murder.  I focused on Chicago, and scraped articles from the web to share sentiment.  These articles show a changing sentiment over time which piqued my interest. 

To answer my research question, I visualized the shootings that occurred in three cities (New York, Chicago, and Los Angeles) between two years (2019 and 2022).  An initial problem I ran into was finding datasets that corresponded to one another between the three cities.  New York City and Chicago data organization separates crimes using firearms from other crimes, which made the datasets easy to download and clean based on the dates needed.  Los Angeles, however, has all historic crime data in one dataset.  I downloaded the large dataset and subset only crimes involving firearm discharge.  Once the six shooting datasets were created (two per city), I visualized the data as a shapefile and plot them, along with the police stations and precincts.  This was another issue of corresponding datasets. Chicago and LA provided datasets with their police station locations and New York City did not.  I found a table on New York PD’s website that provided addresses for each station.  I entered the addresses into google maps to find the corresponding coordinates, and manually inputted the coordinates into the table scraped from NYPD’s webpage.

My static maps help readers visualize the difference in shooting locations compared to police stations. I wished to help readers visualize this further by providing options for comparison in the shiny app.  I initially created an app  which displayed one city with an interactive option to display either police stations, shootings, or police stations and shootings.  This was helpful to see one map clearly, but lacked the comparative aspect necessary for my analysis.  The final, and most useful, iteration of the app was a two-column user interface. This allows for two outputs with different defaults to encourage readers to compare maps. 

I fit my model to a t test.  I chose to calculate the distance between shooting locations in each year and their closest police station.  It was difficult to find the closest police station for each shooting at first.  When I discovered the st_nearest_feature() command, I was able to create new datasets with  just one function for each city and year pair. My null hypothesis for the t test was that there is no significant change in mean distance between shooting incidences and police stations in 2019 and 2022 for each city.  I used a 95% confidence interval.  When I ran the test, I found the p-values for New York and Chicago were insignificant, and I failed to reject the null hypothesis.  In LA, however, the p-value is .01, which is significant.  I reject the null hypothesis for Los Angeles.   

A future extension of this project would include crime data outside of shootings.  I am interested in whether there is a difference in the test outcome if the distance between police precincts and petty crimes was tested, rather than shootings.  The project could also be improved by taking the mean of several years of data before the George Floyd murder, and  doing the same with the mean of several years after.  
